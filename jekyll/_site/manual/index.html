<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
   <title>Sbt Neo Dependencies - manual</title>
   <meta name="viewport" content="width=device-width">
   <link rel="stylesheet" href="/assets/css/bootstrap.css">
   <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css">
   <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
   <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
   <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
   <link rel="stylesheet" href="/css/syntax.css">
   <link rel="stylesheet" href="/css/main.css">
   <script type="text/javascript">
    $(document).ready(function() {
      // when a link with class="cls" is clicked, alert the link text
      $('a.spy').click(function() {
        event.preventDefault();
        $($(this).attr('href'))[0].scrollIntoView();
        scrollBy(0, -90);
      });
    });
   </script>
   <style type="text/css">
   /* Custom Styles */
   ul.nav-tabs {
       width: 100%;
       margin-top: 20px;
       margin-left: 40px;
       border-radius: 4px;
       box-shadow: none;
       border: none;
   }
   ul.nav-tabs li {
       margin: 0;
       text-align: left;
       border: none;
   }
   ul.nav-tabs li a {
       margin: 0;
       padding: 0;
       border-radius: 0;
       border: none;
   }
   ul.nav-tabs li a:hover {
       color: #B42C30;       
       border: none;
       padding-left: 22px;
       background-color: #fff;
   }
   ul.nav-tabs li.active a, ul.nav-tabs li.active a:hover {
       color: #B42C30;       
       border: none;
       padding-left: 20px;
       border-left: 2px solid #B42C30;
   }
   ul.nav-tabs.affix {
       top: 70px; 
   }
   </style>
</head>
<body data-spy="scroll" data-target="#scrollspy" data-offset="90">
   <div id="wrap">
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
   <div class="container">
      <div class="navbar-header">
         <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
         <span class="sr-only">Toggle navigation</span>
         <span class="icon-bar"></span>
         <span class="icon-bar"></span>
         <span class="icon-bar"></span>
         </button>
         <a class="navbar-brand" style="padding:0 10px" href="/"><img src="/assets/img/logo.png"/></a>
      </div>
      <div class="navbar-collapse collapse">
         <ul class="nav navbar-nav" style="margin-left:60px">
            <li ><a href="/">Home</a></li>
            <li class="dropdown  active ">
               <a href="/manual" class="dropdown-toggle" data-toggle="dropdown">Manual <b class="caret"></b></a>
               <ul class="dropdown-menu">
                  <li><a href="/manual/#installation">Installation</a></li>
                  <li><a href="/manual/#tasks">Tasks</a></li>
                  <li><a href="/manual/#settings">Settings</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Usage</li>
                  <li><a href="#">Separated link</a></li>
                  <li><a href="#">One more separated link</a></li>
                  <li class="dropdown-header">Example</li>
               </ul>
            </li>
            <li ><a href="/contribute">Contribute</a></li>
            <li ><a href="/versions">Versions</a></li>
         </ul>
         <ul class="nav navbar-nav navbar-right">
            <li><a href="https://github.com/dzsessona/sbt-neo-dependencies" style="padding:10px 0">
                <button type="button" class="btn btn-primary btn-sm"><i class="fa fa-github fa-lg"></i> View on Github</button></a></li>
            <li><a style="padding:10px 0;margin-left:30px;" href="https://github.com/dzsessona/sbt-neo-dependencies/archive/master.tar.gz">
                <button type="button" class="btn btn-primary btn-sm"><i class="fa fa-download fa-lg"></i> TAR</button></a></li>
            <li><a style="padding:10px 0;margin-left:2px;"  href="https://github.com/dzsessona/sbt-neo-dependencies/archive/master.zip">
                <button type="button" class="btn btn-primary btn-sm"><i class="fa fa-download fa-lg"></i> ZIP</button></a></li>
         </ul>
      </div>
   </div>
</div>

    <div class="container" style="margin-top:70px;">
        <div class="row">
            <div class="col-md-9" role="main" style="text-align: left">
                <h2 id="installation">Installation</h2>

<p><strong>The artifacts of this plugin are uploaded in Maven Central.</strong> </p>

<p>As from the <a href="http://www.scala-sbt.org/release/docs/Detailed-Topics/Resolvers.html">sbt documentation</a> 
the DefaultMavenRepository is the main Maven repository at http://repo1.maven.org/maven2/ and is included by default. 
Therefore you don&#39;t need to add any resolvers to your build definition; you can simply add the plugin the <em>project/plugins.sbt</em> file as follow: </p>

<p><code>addSbtPlugin(&quot;com.github.dzsessona&quot; %% &quot;sbt-neo-dependencies&quot; % &quot;version&quot;)</code></p>

<p>Replace <strong>version</strong> with the last version of this plugin. All versions for this plugin can be found <a href="/versions">here</a>. In order to enable
the tasks of this plugin in your project you also have to modify your build definition; An sbt build definition can contain files ending in .sbt, located in the base directory, 
and files ending in .scala, located in the project/ subdirectory the base directory. In case you are confused about the difference between build.sbt and Build.scala read <a href="http://www.scala-sbt.org/release/docs/Getting-Started/Full-Def.html">this</a>.</p>

<p><h3 id="buildsbt" style="margin-top: 20px;">build.sbt</h4></p>

<p>In your build definition you need to import the settings defined in the plugin, and override the settings keys for <strong>neo4jInternalName, neo4jInternalOrgs, neo4jTagsLabels</strong> as in this example snippet:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">import com.joypeg.graphdeps.neo4j.Neo4jGraphDependencies

Neo4jGraphDependencies.neo4jDepsSetting

neo4jInternalName := &quot;ACOMPANY&quot;

neo4jInternalOrgs := Seq(&quot;a.company&quot;)

neo4jTagsLabels  := Map(&quot;service&quot; -&gt; &quot;Service&quot;)
</code></pre></div>
<p>Look up the section <strong>Settings</strong> for more information about what each of this setting represent.</p>

<p><h3 id="buildscala" style="margin-top: 20px;">project/Build.scala</h4></p>

<p>If you have a full definition (maybe with multiple subproject) you can import the settings defined 
in the plugin (and override the settings keys for <strong>neo4jInternalName, neo4jInternalOrgs, neo4jTagsLabels</strong>) for all the
subproject as follow:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">import sbt._
import Keys._
import com.joypeg.graphdeps.neo4j.Neo4jGraphDependencies
import com.joypeg.graphdeps.neo4j.Neo4jGraphDependencies._

object BuildSettings {

  val neoSettings = neo4jDepsSetting ++ Seq(
    neo4jInternalName := &quot;ACOMPANY&quot;,
    neo4jInternalOrgs := Seq(&quot;a.company&quot;),
    neo4jTagsLabels   := Map(&quot;client&quot; -&gt; &quot;Service_Client&quot;, &quot;web&quot; -&gt; &quot;Web&quot;)
  )

  val buildSettings = Defaults.defaultSettings ++ Seq(
    ...
  ) ++ neoSettings
}
</code></pre></div>
<p>Note that if your build.scala contains multiple projects the previous snippet to apply to each of the subproject. 
Because of the way that the plugin loads the dependencies into the graph database though, 
I will suggest you to run the plugin for multiple project definition not from the root project, 
but by selecting the project and call the task, rather than calling the task on the root project. </p>

<p>For example, for the <a href="http://github.com/dzsessona/sbt-neo-dependencies/blob/docs/examples/svc-user/project/Build.scala">full Build.scala</a> definition of the svc-user example, 
that contains the subproject core, service and client, I load the dependencies with the following <a href="http://github.com/dzsessona/sbt-neo-dependencies/blob/docs/examples/load_acompany.sh">script</a></p>

<p>Look up the section <strong>Settings</strong> for more information about what each of this setting represent.</p>

<h2 id="tasks">Tasks</h2>

<p>Installing the plugin will add to your project 3 new tasks, <strong>neo4jShowDependencies</strong> , <strong>neo4jWriteDependencies</strong> and <strong>neo4jLoadDependencies</strong> . By the way, you can see all the 
tasks available in the sbt console by running </p>

<p><code>sbt&gt; tasks -V</code></p>

<p><img src="/assets/img/taskv.png" width="600"></p>

<h4>neo4jShowDependencies</h4>

<p>This task will print on screen the cypher statements that would be used to create the nodes (projects) and relations (dependencies) in the neo4j database. 
This task is expecially useful for development, but also is a good way to explore how the graph would be generated for a particular project.  </p>

<h4>neo4jWriteDependencies</h4>

<p>This task will print on file the cypher statements that would be used to create the nodes (projects) and relations (dependencies) in the neo4j database. 
Calling this task just create the file, the location of which is defined in the plugin itself as:</p>

<p><code>neo4jCypherScript := (baseDirectory in Compile).value / &quot;neodependencies&quot; / &quot;nodesandrelations.cyp&quot;</code></p>

<p>Also note that the task to load the dependencies <strong>dependsOn</strong> this task. </p>

<h4>neo4jLoadDependencies</h4>

<p>This is the task that creates the nodes (projects) and relations (dependencies) in the neo4j database. 
All it does is calling the neo4jWriteDependencies and than passing that file to the neo4j console. Because of that it assumes that </p>

<ol>
<li>Your neo4j server is running</li>
<li>You have set a variable <strong>NEO4J_HOME</strong> in your environment</li>
</ol>

<p>If any of these requirements is not satisfied you will get a message of error and you won&#39;t be able to load your dependencies in the graph. </p>

<h2 id="settings">Settings</h2>

            </div>
            <div id="scrollspy" class="col-md-3">
                <ul class="nav nav-tabs nav-stacked affix-top" data-spy="affix">
                    <li><a class="spy" href="#installation">Installation</a></li>
                    <li><a class="spy" href="#tasks">Tasks</a></li>
                    <li><a class="spy" href="#settings">Settings</a></li>
                </ul>
            </div>
        </div>
    </div>
     <div id="push"></div>
   </div><!-- wrap -->
   <div id="footer">
  <div class="container">
    <div class="row" style="padding-top:4px;">
      <div class="col-md-4" style="padding-top:5px;"><p class="text-left" style="margin:0">Hosted on GitHub Pages</p></div>
      <div class="col-md-4"><p class="text-center" style="margin:0">
        <a href="https://twitter.com/intent/tweet?button_hashtag=SbtNeoDependencies" class="twitter-hashtag-button" data-related="DiegoZambelliS" data-url="http://github.com/dzsessona/sbt-neo-dependencies">Tweet #SbtNeoDependencies</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
      </div>
      <div class="col-md-4"
      style="padding-top:3px;"><p class="text-right" style="margin:0">Project maintained by 
        <a href="https://github.com/dzsessona"
        style="color: #000; font-size:12px;"><strong>dzsessona</strong></a>
        <a href="http://twitter.com/DiegoZambelliS" style="color: #55ACEE"><i class="fa fa-twitter fa-lg"></i></a>
        <a href="http://ie.linkedin.com/in/diegozambellisessona/" style="color: #1A84BC"><i class="fa fa-linkedin-square fa-lg"></i></a>
      </p></div>
    </div>
  </div>
</div>

   <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-49573452-1', 'dzsessona.github.io');
  ga('send', 'pageview');

</script>
</body>
</html>